# baseURI: https://www.gleif.org/ontology/L2/
# imports: https://www.gleif.org/ontology/Base/
# imports: https://www.gleif.org/ontology/L1/

@base <https://www.gleif.org/ontology/L2/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix gleif-L1: <https://www.gleif.org/ontology/L1/> .
@prefix gleif-L2: <https://www.gleif.org/ontology/L2/> .
@prefix gleif-base: <https://www.gleif.org/ontology/Base/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xs: <http://www.w3.org/2001/XMLSchema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema> .

<https://www.gleif.org/ontology/L2/>
	a owl:Ontology ;
	rdfs:label "GLEIF L2 Ontology" ;
	rdfs:comment "Ontology generated from GLEIF L2 data in CDF 2.1 format" ;
	owl:imports
		<https://www.gleif.org/ontology/Base/> ,
		<https://www.gleif.org/ontology/L1/>
		;
	.

gleif-L2:AccountingSource
	a owl:Class ;
	rdfs:label "accounting source" ;
	skos:definition "the type of accounting standard used to source consolidation information, which is based on reported accounting roll-ups" ;
	.

gleif-L2:DirectConsolidation
	a owl:Class ;
	rdfs:subClassOf gleif-L2:AccountingConsolidation ;
	rdfs:label "direct consolidation" ;
	skos:definition "direct consolidation relationship" ;
	.

gleif-L2:IFRS
	a
		owl:NamedIndividual ,
		gleif-L2:AccountingSource
		;
	rdfs:label "IFRS" ;
	skos:definition "the IFRS accounting standard" ;
	.

gleif-L2:ActiveStatus
	a
		owl:NamedIndividual ,
		gleif-L2:RelationshipStatus
		;
	rdfs:label "active status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xsd:anyURI ;
	skos:definition "As of the last report or update, the reporting legal entity reported that it is legally registered and/or operating, AND that the relationship detailed in this  <code>RelationshipRecord</code> is still valid." ;
	gleif-base:hasTag "ACTIVE" ;
	.
  
gleif-L2:InactiveStatus
	a
		owl:NamedIndividual ,
		gleif-L2:RelationshipStatus
		;
	rdfs:label "inactive status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xsd:anyURI ;
	skos:definition "It has been determined that the relationship ended, e.g. because entity that reported this relationship is no longer legally registered and/or operating; or the relationship is no longer valid for other reasons" ;
	gleif-base:hasTag "INACTIVE" ;
	.
  
gleif-L2:OTHER_ACCOUNTING_STANDARD
	a
		owl:NamedIndividual ,
		gleif-L2:AccountingSource
		;
	rdfs:label "other accounting standard" ;
	skos:definition "another accounting standard (not IFRS or US GAAP)" ;
	.

gleif-L2:Owner
	a owl:Class ;
	rdfs:label "owner" ;
	owl:equivalentClass [
		a owl:Restriction ;
		owl:onProperty gleif-L2:hasChildConsolidation ;
		owl:someValuesFrom gleif-L2:AccountingConsolidation ;
	] ;
	.

 gleif-L2:AnnulledStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "annulled status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "A relationship data report that was marked as erroneous or invalid after it was published. The relationship report is kept in publication for historical audit trail purposes only (so that data recipients can correct their local data)." ;
	gleif-base:hasTag "ANNULLED" ;
	.

gleif-L2:DuplicateStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "duplicate status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "A relationship data report that has been determined to be a  duplicate registration of the same relationship. In many cases this will mean more than one report with e.g. the same 2 entity IDs, the same relationship type, certain status values and the same relationship date(s), but this determination will depend on the relationship type in question." ;
	gleif-base:hasTag "DUPLICATE" ;
	.

gleif-L2:LapsedStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "lapsed status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "A relationship data report that has not been renewed by the NextRenewalDate" ;
	gleif-base:hasTag "LAPSED" ;
	.

gleif-L2:PendingArchivalStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "pending archival status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "This relationship data report is about to be transferred to a different LOU, after which its registration status will revert to a non-pending status. The PENDING_ARCHIVAL status serves to inform recipients of LOU-provided data files that a relationship record will be removed from that LOUâ€™s published file after the transfer is complete" ;
	gleif-base:hasTag "PENDING_ARCHIVAL" ;
	.

gleif-L2:PendingTransferStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "pending transfer status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "A relationship data report for which a transfer to another LOU has been requested. The request is being processed at the sending LOU. When the receiving LOU is ready, the status will be changed to PENDING_ARCHIVAL by the sending LOU prior to completion of the transfer." ;
	gleif-base:hasTag "PENDING_TRANSFER" ;
	.

gleif-L2:PendingValidationStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "pending validation status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "A relationship data report that has been submitted to the LOU and which is being processed and validated, prior to publication." ;
	gleif-base:hasTag "PENDING_VALIDATION" ;
	.

gleif-L2:PublishedStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "published status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "A relationship data report that has been validated and published, and which is reported by an entity that was an operating legal entity as of the last update." ;
	gleif-base:hasTag "PUBLISHED" ;
	.

gleif-L2:RetiredStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "retired status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "status indicating that the registration is for an entity that has ceased operation, without having been merged into another entity" ;
	gleif-base:hasTag "RETIRED" ;
  .  
  
gleif-L2:TransferredStatus
	a
		owl:NamedIndividual ,
		gleif-L2:LEIRegistrationStatus
		;
	rdfs:label "transferred status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "The relationship is considered to have ended, but the relationship report is kept in publication for historical audit trail purposes." ;
	gleif-base:hasTag "TRANSFERRED" ;
	.

gleif-L2:AccountingConsolidation
	a owl:Class ;
  rdfs:subClassOf gleif-base:LegalEntityRelationship ;
	rdfs:label "accountign consolidation" ;
	skos:definition "abstract superclass to represent an accounting consildation relationship" ;
		[
			a owl:Restriction ;
			owl:onProperty gleif-L2:hasRelationshpStatus ;
			owl:onClass gleif-L2:RelationshipStatus ;
			owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
		]
	.

gleif-L2:PrimaryForeignBranchConsolidation
	a owl:Class ;
	rdfs:subClassOf gleif-L2:DirectConsolidation ;
	rdfs:label "primary foreign branch consolidation" ;
	skos:definition "abstract superclass to represent consolidation of a foreign branch" ;
	.

gleif-L2:LegalEntityRelationshipRegistryEntry
	a owl:Class ;
	rdfs:subClassOf
		gleif-base:RegistryEntry ,
		[
			a owl:Restriction ;
			owl:onProperty gleif-base:hasInitialRegistrationDate ;
			owl:cardinality "1"^^xs:nonNegativeInteger ;
			owl:onDataRange xs:dateTime ;
		] ,
		[
			a owl:Restriction ;
			owl:onProperty gleif-base:hasRegistrationRevisionDate ;
			owl:cardinality "1"^^xs:nonNegativeInteger ;
			owl:onDataRange xs:dateTime ;
		] ,
		[
			a owl:Restriction ;
			owl:onProperty gleif-base:hasRenewalDate ;
			owl:cardinality "1"^^xs:nonNegativeInteger ;
			owl:onDataRange xs:dateTime ;
		] ,
		[
			a owl:Restriction ;
			owl:onProperty gleif-L1:hasValidationAuthority ;
			owl:onClass gleif-base:RegistrationAuthority ;
			owl:minQualifiedCardinality "0"^^xs:nonNegativeInteger ;
		] ,
		[
			a owl:Restriction ;
			owl:onProperty gleif-base:comprises ;
			owl:someValuesFrom gleif-L1:LegalEntityIdentifier ;
		] ,
		[
			a owl:Restriction ;
			owl:onProperty gleif-base:hasRegistrationStatus ;
			owl:someValuesFrom gleif-L2:RegistrationStatus ;
		] ,
		[
			a owl:Restriction ;
			owl:onProperty gleif-L1:hasValidationLevel ;
			owl:someValuesFrom gleif-L1:LEIValidationStatus ;
		]
		;
	rdfs:label "legal entity relationship registry entry" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xs:anyURI ;
	skos:definition "an entry in a legal entity identifier registry that conforms to ISO 17442 and the Global Legal Entity Identifier Foundation (GLEIF) Common Data Format (CDF)" ;
	.

gleif-L2:Subsidiary
	a owl:Class ;
	rdfs:label "subsidiary" ;
	owl:equivalentClass [
		a owl:Restriction ;
		owl:onProperty gleif-L2:hasParentConsolidation ;
		owl:someValuesFrom gleif-L2:AccountingConsolidation ;
	] ;
	.

gleif-L2:US_GAAP
	a
		owl:NamedIndividual ,
		gleif-L2:AccountingSource
		;
	rdfs:label "US GAAP" ;
	skos:definition "the US GAAP accounting standard" ;
	.

gleif-L2:UltimateOwner
	a owl:Class ;
	rdfs:label "ultimate owner" ;
	owl:equivalentClass [
		a owl:Class ;
		owl:intersectionOf (
			gleif-L2:Owner
			[
				a owl:Class ;
				owl:complementOf gleif-L2:Subsidiary ;
			]
		) ;
	] ;
	.

gleif-L2:UltimateConsolidation
	a owl:Class ;
	rdfs:subClassOf gleif-L2:AccountingConsolidation ;
	rdfs:label "ultimate consolidation" ;
	skos:definition "ultimate consolidation relationship" ;
	.

gleif-L2:acctgSource
	a owl:ObjectProperty ;
	rdfs:label "accounting source" ;
	rdfs:domain gleif-L2:AccountingConsolidation ;
	rdfs:range gleif-L2:AccountingSource ;
	skos:definition "the type of accounting source used for this Consolidation information" ;
	.

gleif-L2:hasChildEntity
	rdfs:label "has child entity" ;
	owl:propertyChainAxiom (
		gleif-L2:hasChildConsolidation
		gleif-base:hasSubsidiary
	) ;
	.

gleif-L2:hasChildConsolidation
	a owl:ObjectProperty ;
	rdfs:label "has child consolidation" ;
	rdfs:domain gleif-base:LegalEntity ;
	rdfs:range gleif-L2:AccountingConsolidation ;
	owl:inverseOf gleif-base:hasOwner ;
	skos:definition "child consolidation" ;
	.

gleif-L2:hasParentEntity
	rdfs:label "has parent entity" ;
	owl:propertyChainAxiom (
		gleif-L2:hasParentConsolidation
		gleif-base:hasOwner
	) ;
	.

gleif-L2:hasParentConsolidation
	a owl:ObjectProperty ;
	rdfs:label "has parent consolidation" ;
	rdfs:domain gleif-base:LegalEntity ;
	rdfs:range gleif-L2:AccountingConsolidation ;
	owl:inverseOf gleif-base:hasSubsidiary ;
	skos:definition "parent consolidation" ;
	.
  
gleif-L2:hasRelationshipStatus
	a owl:ObjectProperty ;
	rdfs:label "has relationship status" ;
	dct:source "https://www.gleif.org/en/about-lei/common-data-file-format/lei-cdf-format/lei-cdf-format-version-2-1"^^xsd:anyURI ;
	rdfs:domain gleif-base:LegalEntity ;
	rdfs:range gleif-L2:RelationshipStatus ;
	skos:definition "indicates the status of the relationship (i.e., active, inactive)" ;
	.


gleif-L2:ownPct
	a owl:DatatypeProperty ;
	rdfs:label "owned percentage" ;
	rdfs:domain gleif-L2:AccountingConsolidation ;
	rdfs:range xs:decimal ;
	skos:definition "the percentage of the subsidiary owned by the owner, if known" ;
	skos:editorialNote "Should be a subProperty of fibo-be-oac-cpty:hasPercentageControl but that needs fixing to be a datatypeProperty" ;
	.

